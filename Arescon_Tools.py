import sys, osimport timeimport datetime as dtimport argparseimport pandas as pdimport db_objects as dboimport pa3_postgresql as lksys.path.append(os.path.abspath(os.path.join('..', 'Lib')))import ShellGPandas# login to GoogleSPREADSHEET_URL = 'https://docs.google.com/spreadsheets/d/'#путь к ini файлуSPREADSHEET_CFG = '1vAYT0II3N-Rk21rw33-IEGlUY_oUcsv812xn_lAfqto'SPREADSHEET_LOG = '161LgS0qvB_uKzd7YfAGw13JdpHOeBD-tsgAlo6G6PXg'WKS_WORKLOG_NAME = 'Logging'WORKSHEET_CFG = 'CheckOrders'def  repair_lk(df_orders, tlg_channel=None, df_db=None):    df_orders = df_orders[~df_orders['дата'].isna()]    df_orders.rename(columns={'ПУ': 'num', 'username_x': 'username'}, inplace=True, errors='raise')    df_orders = df_orders.set_index('num')    df_db = df_db.set_index('num')    df_db.update(df_orders)    df_db.reset_index(inplace=True)    data = df_db.to_dict('records')    fields_meters = df_db.columns.tolist()    lk.Meters.replace_many(data, fields=fields_meters).execute()if __name__ == '__main__':# парсинг командной строки    parser = argparse.ArgumentParser(description='Tools foe Arescon databases v0.0.1\nQuit press q.')    parser.add_argument('-client_name', type=str, default='private',                        help='-client_name [the name of organization]\nCould be: private, kvart126, arbat, kvart23\n'                             'default= private')    args = parser.parse_args()# загрузка таблиц логгирования, конфигурации, рабочих таблиц    gp_spreads = ShellGPandas.GPFabric()# открываем базы данных    end_period = dt.datetime.now()    dbo_data = dbo.get_agent(1., end_period, args.client_name)    dbo_data.open_pa3_db()    dbo_data.open_dcs_db()# получиь фрейм счетчиков    df_meters = lk.Meters.get_meters()    max_count = len(df_counters.index)    for term_index, counter in df_counters.iterrows():#TODO восстановить terminal_id по ext_id и добавить в df_meters    term_for_counter = dbo.AresconData.get_terminals_by_ext_id('373432346A31611501')    pass